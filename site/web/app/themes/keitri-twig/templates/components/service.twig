{% set colorClasses = {
  'cyan': 'text-cyan-600',
  'amber': 'text-amber-600',
  'rose': 'text-rose-600',
  'blue': 'text-blue-600',
  'yellow': 'text-yellow-600',
  'green': 'text-green-600',
  'pink': 'text-pink-600',
  'violet': 'text-violet-600'
} %}

<style>
  @keyframes orbit {
    0%   { transform: rotate(0deg) translate(var(--x), var(--y)) rotate(0deg); }
    100% { transform: rotate(360deg) translate(var(--x), var(--y)) rotate(-360deg); }
  }

  .orbiting-icon {
    animation: orbit 20s linear infinite;
    transform-origin: center center;
    transition: transform 0.3s;
  }

  /* Pause all icons when any is hovered */
  .orbit-system:hover .orbiting-icon {
    animation-play-state: paused;
  }
</style>

<section class="relative py-24 bg-stone-900 text-white overflow-hidden">
  <div class="text-center mb-12">
    <h2 class="text-3xl md:text-4xl font-bold">
      Explore <span class="text-amber-400">What We Do Best</span>
    </h2>
    <p class="mt-2 text-white/70 max-w-xl mx-auto">
      From UI/UX to full-stack development, our services are tailored to empower your business with clean design and cutting-edge tech.
    </p>
  </div>

  <!-- Orbit container -->
  <div class="relative w-full h-[600px] flex items-center justify-center orbit-system">

    <!-- Central image (sun) -->
    <div class="absolute w-32 h-32 rounded-full shadow-xl z-20 overflow-hidden">
      <img
        src="{{ theme.link }}/assets/pic.jpg"
        alt="Keitri"
        class="w-full h-full object-cover"
      >
    </div>

    <!-- Orbiting services -->
    {% for item in services %}
      {% set colorClass = colorClasses[item.color] %}
      <div
        class="absolute z-10 orbiting-icon"
        style="--x: {{ item.x }}px; --y: {{ item.y }}px;"
      >
        <div class="group w-12 h-12 flex items-center justify-center transition duration-300">
          <img
            src="{{ theme.link }}/assets/{{ item.icon }}"
            alt="{{ item.title }}"
            class="w-full h-full object-contain"
          >

          <!-- Tooltip -->
          <div class="absolute left-1/2 top-full mt-3 -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-all bg-white text-sm text-gray-800 px-3 py-2 rounded-lg shadow-xl w-52 z-10">
            <p class="font-semibold {{ colorClass }}">{{ item.title }}</p>
            <p class="text-xs mt-1">{{ item.description }}</p>
          </div>
        </div>
      </div>
    {% endfor %}
  </div>
</section>
